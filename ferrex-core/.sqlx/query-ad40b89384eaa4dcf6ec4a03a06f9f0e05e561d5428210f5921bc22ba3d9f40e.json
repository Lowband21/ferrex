{
  "db_name": "PostgreSQL",
  "query": "\n            INSERT INTO media_image_variants (\n                media_type,\n                media_id,\n                image_type,\n                order_index,\n                variant,\n                cached,\n                width,\n                height,\n                content_hash,\n                theme_color,\n                requested_at,\n                cached_at\n            )\n            VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)\n            ON CONFLICT (media_type, media_id, image_type, order_index, variant) DO UPDATE SET\n                cached = EXCLUDED.cached,\n                width = EXCLUDED.width,\n                height = EXCLUDED.height,\n                content_hash = EXCLUDED.content_hash,\n                theme_color = EXCLUDED.theme_color,\n                requested_at = LEAST(media_image_variants.requested_at, EXCLUDED.requested_at),\n                cached_at = COALESCE(EXCLUDED.cached_at, media_image_variants.cached_at)\n            RETURNING\n                media_type,\n                media_id,\n                image_type,\n                order_index,\n                variant,\n                cached,\n                width,\n                height,\n                content_hash,\n                theme_color,\n                requested_at,\n                cached_at\n            ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "media_type",
        "type_info": "Varchar"
      },
      {
        "ordinal": 1,
        "name": "media_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 2,
        "name": "image_type",
        "type_info": "Varchar"
      },
      {
        "ordinal": 3,
        "name": "order_index",
        "type_info": "Int4"
      },
      {
        "ordinal": 4,
        "name": "variant",
        "type_info": "Varchar"
      },
      {
        "ordinal": 5,
        "name": "cached",
        "type_info": "Bool"
      },
      {
        "ordinal": 6,
        "name": "width",
        "type_info": "Int4"
      },
      {
        "ordinal": 7,
        "name": "height",
        "type_info": "Int4"
      },
      {
        "ordinal": 8,
        "name": "content_hash",
        "type_info": "Varchar"
      },
      {
        "ordinal": 9,
        "name": "theme_color",
        "type_info": "Varchar"
      },
      {
        "ordinal": 10,
        "name": "requested_at",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 11,
        "name": "cached_at",
        "type_info": "Timestamptz"
      }
    ],
    "parameters": {
      "Left": [
        "Varchar",
        "Uuid",
        "Varchar",
        "Int4",
        "Varchar",
        "Bool",
        "Int4",
        "Int4",
        "Varchar",
        "Varchar",
        "Timestamptz",
        "Timestamptz"
      ]
    },
    "nullable": [
      false,
      false,
      false,
      false,
      false,
      false,
      true,
      true,
      true,
      true,
      false,
      true
    ]
  },
  "hash": "ad40b89384eaa4dcf6ec4a03a06f9f0e05e561d5428210f5921bc22ba3d9f40e"
}
