#!/usr/bin/env bash
set -euo pipefail

if ! command -v pre-commit >/dev/null 2>&1; then
  echo "pre-commit not found. Install with: pipx install pre-commit (recommended) or pip install --user pre-commit" >&2
  exit 1
fi

repo_root="$(git rev-parse --show-toplevel)"
cd "$repo_root"

# Run only pre-commit stage hooks; pre-commit will detect staged files.
exec pre-commit run --hook-stage pre-commit "$@"
