# Ferrex Server production environment (example)

# Database (PostgreSQL)
# `just init-config` will populate these and generate strong passwords in config/.env.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=REPLACE_ME
FERREX_DB=ferrex
FERREX_APP_USER=ferrex_app
FERREX_APP_PASSWORD=REPLACE_ME
DATABASE_URL=<REDACTED>

# Redis (required for production rate limiting)
REDIS_URL=redis://cache:6379

# Server bind (commonly sits behind a reverse proxy)
SERVER_HOST=0.0.0.0
SERVER_PORT=3000

# Media root inside the container (mapped via docker-compose volume)
MEDIA_ROOT=/media

# Authentication secrets (must be strong and unique)
# Generate with `ferrex-server config init` or your secret manager.
AUTH_PASSWORD_PEPPER=<REDACTED>
AUTH_TOKEN_KEY=<REDACTED>
FERREX_SETUP_TOKEN=<REDACTED>

# Optional TLS if terminating at the app instead of a proxy
#TLS_CERT_PATH=/certs/cert.pem
#TLS_KEY_PATH=/certs/key.pem

# CORS (configure in config/ferrex.toml). Use env only if necessary.
#CORS_ALLOWED_ORIGINS=https://your-ui.example.com

# Rate limit spec (configure in TOML; env fallback shown)
#RATE_LIMITS_PATH=config/rate-limits.toml
