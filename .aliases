# Ferrex Performance Testing Aliases
# Source this file: source .aliases
#
# NEW WORKFLOW: Initialization-driven benchmarking
# The initialization benchmark runs first and populates real server data,
# which is then used by all other benchmarks for maximum realism

# RED PHASE: Complete performance suite (initialization + all benchmarks)
alias perf-red="cargo bench -p ferrex-player --features profiling-dev --bench grid_rendering_bench"

# GREEN PHASE: Run with profiling to identify bottlenecks
alias perf-profile="cargo run -p ferrex-player --features profiling-dev"

# View benchmark results
alias perf-view="open target/criterion/index.html"

# Puffin profiler (browser visualization at localhost:8585)
alias perf-puffin="cargo run -p ferrex-player --features profiling-dev && echo 'Visit http://localhost:8585'"

# Specific benchmark suites
alias perf-grid="cargo bench -p ferrex-player --features profiling-dev --bench grid_rendering_bench"
alias perf-startup="cargo bench -p ferrex-player --features profiling-dev --bench grid_rendering_bench -- benchmark_application_initialization"
alias perf-components="cargo bench -p ferrex-player --features profiling-dev --bench grid_rendering_bench -- benchmark_movie_component_creation"
alias perf-scrolling="cargo bench -p ferrex-player --features profiling-dev --bench grid_rendering_bench -- benchmark_real_scrolling_hotpath"

# Production profiling (minimal overhead)
alias perf-release="cargo bench -p ferrex-player --features profiling-release"

# Check profiling compilation
alias perf-check="RUSTFLAGS='-A warnings' cargo check -p ferrex-player --features profiling-dev"